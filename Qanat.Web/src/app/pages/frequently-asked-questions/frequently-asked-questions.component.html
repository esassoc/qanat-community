<div class="full-width-page">
    <page-header [customRichTextTypeID]="customRichTextID" icon="ChatBubble"></page-header>

    <div class="page-body grid-12">
        <app-alert-display></app-alert-display>

        <div class="search-container">
            <form-field [formControl]="searchFormControl" [type]="FormFieldType.Text" [placeholder]="'Search FAQs'"></form-field>
            @if (searchFormControl.value) {
                <button class="clear" (click)="clearSearch()">
                    <i class="fa fa-times-circle"></i>
                    Clear
                </button>
            }
        </div>

        <div class="faqs-list">
            @if (frequentlyAskedQuestions$ | async) {
                @if (faqsToDisplay$ | async; as faqsToDisplay) {
                    @if (faqsToDisplay.length < 1) {
                        <em>
                            There are no FAQs to display.
                            @if (searchFormControl.value) {
                                <a href="javascript:void(0);" (click)="clearSearch()"> Clear my search terms </a>
                            }
                        </em>
                    }
                    @for (faq of faqsToDisplay; track faq) {
                        <frequently-asked-question-display [highlightText]="searchTermDebounced" [faq]="faq"></frequently-asked-question-display>
                    }
                }
            } @else {
                <div [loadingSpinner]="{ isLoading: true, loadingHeight: 300 }"></div>
            }
        </div>
    </div>
</div>
